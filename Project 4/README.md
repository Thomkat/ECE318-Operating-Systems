|----------------------------------------------------|
|   Dionisis Kritsas 3210 dkritsas@uth.gr            |
|   Thomas Katraouras 3215 tkatraouras@uth.gr        |
|   Giorgos Margaritis 3356 geormargaritis@uth.gr    |
|----------------------------------------------------|

==============ΟΔΗΓΙΕΣ ΜΕΤΑΓΛΩΤΤΙΣΗΣ ΚΑΙ ΕΚΤΕΛΕΣΗΣ==============

Στον φάκελο filesystem βρίσκονται τα source files μας και του fuse. Επίσης σε αυτόν τον φάκελο αποθηκεύεται by default το κρυφό μας
directory, το οποίο περιέχει τα blocks. Για να κάνετε compile, απλά τρέξτε make.
Σε αυτόν τον φάκελο βρίσκονται και τα τα directory mountdir και rootdir.
Για να τρέξετε το bbfs, βρισκόμενοι στο filesystem directory, τρέξτε ./bbfs rootdir mountdir

Στον φάκελο experiments βρίσκονται τα δύο προγράμματα δοκιμών που αναφέρονται παρακάτω.

Για να κάνετε compile τα προγράμματα δοκιμών, τρέξτε make στο experiments directory. Τα εκτελείτε με ./test_write και ./test_read αντίστοιχα.
Η λειτουργικότητά τους περιγράφεται παρακάτω.

==============ΠΑΡΑΔΟΧΕΣ ΥΛΟΠΟΙΗΣΗΣ==================
Όλες οι αιτήσεις ανάγνωσης και εγγραφής είναι πολλαπλάσιες των 4KB.

Αν δύο blocks έχουν το ίδιο hash, υποθέτουμε πως περιέχουν ίδια δεδομένα.

Το σύστημά μας είναι non-volatile

==============ΕΛΕΓΧΟΣ ΛΕΙΤΟΥΡΓΙΚΟΤΗΤΑΣ==============

Προκειμένου να ελέγξουμε την λειτουργικότητα της υλοποίησης, δημιουργήσαμε δύο απλά τεστ. Ένα τεστ ανάγνωσης και ένα τεστ εγγραφής.
Συγκεκριμένα, τα test_read.c και test_write.c .

Το test_write, περιέχει 3 strings με τυχαίο κείμενο, αποτελούμενο από 4096 χαρακτήρες (bytes) το καθένα (content1, content2, content3).
Δημιουργεί τα testfile1.txt και testfile2.txt . Γράφει το content2 το testfile1.txt και στο testfile2.txt γράφει τα content1, content2,
content3 με αυτή τη σειρά και χωρίς επιπλέον χαρακτήρες ανάμεσά τους. Έτσι, στο testfile1.txt γράφονται 4096 χαρακτήρες (bytes) και στο
testfile2.txt γράφονται 12288 χαρακτήρες (bytes).

Το test_read, ανοίγει τα δύο αρχεία, διαβάζει το περιεχόμενό τους και το τυπώνει στο stdout.

================ΤΙ ΠΑΡΑΤΗΡΗΣΑΜΕ================

Αφού έτρεξε το test_write, δημιουργήθηκαν 3 blocks των 4096 bytes το καθένα. Το block 001 με το περιεχόμενο του content2
(το οποίο γράφτηκε πρώτο στο testfile1.txt), το block 002 με το περιεχόμενο του content1 (το οποίο ήταν αυτό που γράφτηκε αμέσως μετά
στο testfile2.txt) και το block 003 με το περιεχόμενο του content3 (το οποίο γράφτηκε τελευταίο στο testfile2.txt).
Το testfile1.txt στο rootdir περιέχει pointer προς το 001. Το testfile2.txt στο rootdir περιέχει pointer προς τα 002001003.
Κατά την εκτέλεση του test_read, πράγματι τα δεδομένα που διαβάστηκαν ήταν ακριβώς αυτά που γράφτηκαν για κάθε αρχείο.
Για το testfile1.txt το content2 και για το testfile2.txt τα content1content2content3.

Έτσι, το σύστημα αρχείων μας εμφάνισε την αναμενόμενη σωστή συμπεριφορά συμπίεσης, δηλαδή επαναχρησιμοποίησε το block του content2
όταν αυτό χρησιμοποιήθηκε στο testfile2.txt, καθώς τα δεδομένα του είναι ίδια. Επίσης στο rootdir αποθηκεύτηκαν μόνο pointers προς
τα αντίστοιχα blocks και κατά την ανάγνωση τα αρχεία ανακατασκευάστηκαν επιτυχώς.